function e(){this.m_DD_Make=null,this.m_DD_Model=null,this.m_DD_Variant=null,this.m_DD_Fuel=null,this.m_Submit=null,this.m_Form=null,this.m_ShowVehicleCallback=null,this.m_Lbl=new Array("- Please select -","- Please select above -",'Please <a href="http://browsehappy.com/">upgrade your browser</a>.'),this.init=function(){this._ltIE9()?window.attachEvent("onload",function(){l_OldIENotSupported=document.createElement("p"),l_OldIENotSupported.innerHTML=i.m_Lbl[2],l_OldIENotSupported.className="etError",document.getElementById("et_form").appendChild(l_OldIENotSupported)}):window.addEventListener("load",this._OnDocLoad,!1)},this.exe=function(e){var t={method:null,dropdown:null,onBefore:null,callback:null};for(l_i in t)"undefined"!=typeof e[l_i]&&(t[l_i]=e[l_i]);var i=null,n=this,l=new FormData(this.m_Form);l.append("et_method",t.method),null!=t.onBefore&&t.onBefore(),i=new XMLHttpRequest,i.onreadystatechange=function(){if(4==i.readyState){if(200!=i.status&&304!=i.status)return void n.msg("Error "+i.status);l_Response=JSON.parse(i.responseText),l_Response.Success?(null!=t.dropdown&&n._fillDD(l_Response,t.dropdown),null!=t.callback&&t.callback(l_Response)):(l_Error=document.createElement("p"),l_Error.innerHTML=l_Response.ErrorMessage,l_Error.className="etError",n.m_Form.appendChild(l_Error))}},i.open("POST","PHP/json.channel.php",!0),i.send(l)},this._OnDocLoad=function(){i._init()},this._init=function(){this.m_DD_Make=document.getElementById("et_make"),this.m_DD_Model=document.getElementById("et_model"),this.m_DD_Fuel=document.getElementById("et_fuel"),this.m_DD_Variant=document.getElementById("et_variant"),this.m_Submit=document.getElementById("et_submit"),this.m_Form=document.getElementById("et_form"),this.m_DD_Make.addEventListener("change",this._EvtDisp,!1),this.m_DD_Model.addEventListener("change",this._EvtDisp,!1),this.m_DD_Fuel.addEventListener("change",this._EvtDisp,!1),this.m_DD_Variant.addEventListener("change",this._EvtDisp,!1),this.m_Form.addEventListener("submit",this._EvtDisp,!1),this.m_DD_Make.childNodes[0].innerHTML=this.m_Lbl[0],this.m_DD_Model.childNodes[0].innerHTML=this.m_Lbl[1],this.m_DD_Fuel.childNodes[0].innerHTML=this.m_Lbl[1],this.m_DD_Variant.childNodes[0].innerHTML=this.m_Lbl[1],this.Load(this.m_DD_Make)},this.Load=function(e){this.m_Submit.setAttribute("disabled",1),this.exe({method:e.getAttribute("data-method"),dropdown:e,onBefore:function(){e.setAttribute("disabled",!0)},callback:function(){e.removeAttribute("disabled")}})},this.ShowVehicle=function(e){var t=this;this.exe({method:"vehicle",onBefore:function(){t.m_Submit.setAttribute("disabled",!0)},callback:function(e){t.m_Submit.removeAttribute("disabled"),t.m_ShowVehicleCallback(e)}}),e.preventDefault()},this.OnMakeChange=function(){this.Load(this.m_DD_Model),this.m_DD_Fuel.selectedIndex=0,this.m_DD_Fuel.setAttribute("disabled",1),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",1)},this.OnModelChange=function(){this.Load(this.m_DD_Fuel),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",1)},this.OnFuelChange=function(){this.Load(this.m_DD_Variant)},this.OnVariantChange=function(){"-1"!=this.m_DD_Variant.childNodes[this.m_DD_Variant.selectedIndex].value?this.m_Submit.removeAttribute("disabled"):this.m_Submit.setAttribute("disabled",1)},this._EvtDisp=function(e){e.srcElement==i.m_DD_Make&&i.OnMakeChange(e),e.srcElement==i.m_DD_Model&&i.OnModelChange(e),e.srcElement==i.m_DD_Fuel&&i.OnFuelChange(e),e.srcElement==i.m_DD_Variant&&i.OnVariantChange(e),e.srcElement==i.m_Form&&i.ShowVehicle(e)},this.msg=function(e){console.log("ET",e)},this._fillDD=function(e,t){for(var i=null;t.firstChild;)t.removeChild(t.firstChild);for(l_i in e.Items)i=document.createElement("option"),i.value=e.Items[l_i].Value,i.innerHTML=e.Items[l_i].Text,t.appendChild(i)},this._ltIE9=function(){return l_test=/msie.[0-9]/.test(window.navigator.userAgent.toLowerCase()),"undefined"!=typeof l_test?l_test:!1}}function t(){this.m_originalPlaceholderImage="",this.init=function(){this.m_originalPlaceholderImage=document.getElementById("et_VehicleModelImageUrl").getAttribute("src")},this.fillVehicleProperties=function(e){document.getElementById("et_VehicleModelImageUrl").setAttribute("src",this.m_originalPlaceholderImage);for(var t=document.getElementById("et_TuningStages");t.firstChild;)t.removeChild(t.firstChild);for(key in e){var i=document.getElementById("et_"+key);if(null!=i)if("string"==typeof e[key]||"number"==typeof e[key])if("VehicleModelImageUrl"==key)null!=e[key]&&""!=e[key]&&i.setAttribute("src",e[key]);else try{i.innerHTML=e[key]}catch(n){console.warn("Could not fill this element: "+key)}else if("boolean"==typeof e[key])"checkbox"==i.getAttribute("type")&&(e[key]?i.removeAttribute("disabled"):i.setAttribute("disabled",!0));else if("object"==typeof e[key]&&"TuningStages"==key)for(l_i in e[key]){var l=document.getElementById("et_template_stage").cloneNode(!0);l.removeAttribute("id"),l.style.display="block";for(l_ts_key in e[key][l_i]){var s=l.querySelector(".et_"+l_ts_key);null!=s&&(s.innerHTML=e[key][l_i][l_ts_key]),"boolean"==typeof e[key][l_i][l_ts_key]&&"DefaultStage"==l_ts_key&&e[key][l_i][l_ts_key]&&l.querySelector(".et_StageSelector").setAttribute("checked",!0),"ModifiedPower"==l_ts_key&&(l.querySelector(".et_PowerGain").innerHTML=e[key][l_i][l_ts_key]-e.StandardPower),"ModifiedTorque"==l_ts_key&&(l.querySelector(".et_TorqueGain").innerHTML=e[key][l_i][l_ts_key]-e.StandardTorque)}document.getElementById("et_TuningStages").appendChild(l)}}document.getElementById("et_result").style.display="block"}}var i;i=new e,i.init();var n=new t;"undefined"!=typeof i&&(i._ltIE9()||(window.addEventListener("load",function(){n.init()},!1),i.m_ShowVehicleCallback=function(e){n.fillVehicleProperties(e)}));
//# sourceMappingURL=https://emotion-tuning.com/SDK/js/emotionApi.min.map