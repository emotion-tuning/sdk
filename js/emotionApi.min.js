function e(){this.m_DD_Make=null,this.m_DD_Model=null,this.m_DD_Variant=null,this.m_DD_Fuel=null,this.m_Submit=null,this.m_Form=null,this.m_ShowVehicleCallback=null,this.m_Lbl=new Array("- Please select -","- Please select above -",'Please <a href="http://browsehappy.com/">upgrade your browser</a>.'),this.init=function(){this._ltIE9()?window.attachEvent("onload",function(){l_OldIENotSupported=document.createElement("p"),l_OldIENotSupported.innerHTML=n.m_Lbl[2],l_OldIENotSupported.className="etError",document.getElementById("et_form").appendChild(l_OldIENotSupported)}):window.addEventListener("load",this._OnDocLoad,!1)},this.exe=function(e){var t={method:null,dropdown:null,onBefore:null,callback:null};for(l_i in t)"undefined"!=typeof e[l_i]&&(t[l_i]=e[l_i]);var n=null,i=this,l=new FormData(this.m_Form);l.append("et_method",t.method),null!=t.onBefore&&t.onBefore(),n=new XMLHttpRequest,n.onreadystatechange=function(){if(4==n.readyState){if(200!=n.status&&304!=n.status)return void i.msg("Error "+n.status);l_Response=JSON.parse(n.responseText),l_Response.Success?(null!=t.dropdown&&i._fillDD(l_Response,t.dropdown),null!=t.callback&&t.callback(l_Response)):(l_Error=document.createElement("p"),l_Error.innerHTML=l_Response.ErrorMessage,l_Error.className="etError",i.m_Form.appendChild(l_Error))}},n.open("POST","PHP/json.channel.php",!0),n.send(l)},this._OnDocLoad=function(){n._init()},this._init=function(){this.m_DD_Make=document.getElementById("et_make"),this.m_DD_Model=document.getElementById("et_model"),this.m_DD_Fuel=document.getElementById("et_fuel"),this.m_DD_Variant=document.getElementById("et_variant"),this.m_Submit=document.getElementById("et_submit"),this.m_Form=document.getElementById("et_form"),this.m_DD_Make.addEventListener("change",this._EvtDisp,!1),this.m_DD_Model.addEventListener("change",this._EvtDisp,!1),this.m_DD_Fuel.addEventListener("change",this._EvtDisp,!1),this.m_DD_Variant.addEventListener("change",this._EvtDisp,!1),this.m_Form.addEventListener("submit",this._EvtDisp,!1),this.m_DD_Make.childNodes[0].innerHTML=this.m_Lbl[0],this.m_DD_Model.childNodes[0].innerHTML=this.m_Lbl[1],this.m_DD_Fuel.childNodes[0].innerHTML=this.m_Lbl[1],this.m_DD_Variant.childNodes[0].innerHTML=this.m_Lbl[1],this.Load(this.m_DD_Make)},this.Load=function(e){this.m_Submit.setAttribute("disabled",1),this.exe({method:e.getAttribute("data-method"),dropdown:e,onBefore:function(){e.setAttribute("disabled",!0)},callback:function(){e.removeAttribute("disabled")}})},this.ShowVehicle=function(e){var t=this;this.exe({method:"vehicle",onBefore:function(){t.m_Submit.setAttribute("disabled",!0)},callback:function(e){t.m_Submit.removeAttribute("disabled"),t.m_ShowVehicleCallback(e)}}),e.preventDefault()},this.OnMakeChange=function(){this.Load(this.m_DD_Model),this.m_DD_Fuel.selectedIndex=0,this.m_DD_Fuel.setAttribute("disabled",1),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",1)},this.OnModelChange=function(){this.Load(this.m_DD_Fuel),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",1)},this.OnFuelChange=function(){this.Load(this.m_DD_Variant)},this.OnVariantChange=function(){"-1"!=this.m_DD_Variant.childNodes[this.m_DD_Variant.selectedIndex].value?this.m_Submit.removeAttribute("disabled"):this.m_Submit.setAttribute("disabled",1)},this._EvtDisp=function(e){e.srcElement==n.m_DD_Make&&n.OnMakeChange(e),e.srcElement==n.m_DD_Model&&n.OnModelChange(e),e.srcElement==n.m_DD_Fuel&&n.OnFuelChange(e),e.srcElement==n.m_DD_Variant&&n.OnVariantChange(e),e.srcElement==n.m_Form&&n.ShowVehicle(e)},this.msg=function(e){console.log("ET",e)},this._fillDD=function(e,t){for(var n=null;t.firstChild;)t.removeChild(t.firstChild);for(l_i in e.Items)n=document.createElement("option"),n.value=e.Items[l_i].Value,n.innerHTML=e.Items[l_i].Text,t.appendChild(n)},this._ltIE9=function(){return l_test=/msie.[0-9]/.test(window.navigator.userAgent.toLowerCase()),"undefined"!=typeof l_test?l_test:!1}}function t(e){var n=document.createElement("table");for(key in e){var i=document.createElement("tr"),l=document.createElement("td"),s=document.createElement("td");l.innerHTML=key,"object"==typeof e[key]?s.appendChild(t(e[key])):s.innerHTML=e[key],i.appendChild(l),i.appendChild(s),n.appendChild(i)}return n}var n;n=new e,n.m_ShowVehicleCallback=function(e){console.log(e),n.m_Form.appendChild(t(e))},n.init();
//# sourceMappingURL=https://emotion-tuning.com/SDK/js/emotionApi.min.map