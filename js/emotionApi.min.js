function e(){this.m_DD_Make=null,this.m_DD_Model=null,this.m_DD_Variant=null,this.m_DD_Fuel=null,this.init=function(){var e=!0;null!=document.getElementById("etObsolete")&&(e=!1),e&&window.addEventListener("load",this._OnDocLoad,!1)},this.exe=function(e,t,i,n){var s=null,l=this,a={et_method:null};"undefined"!=typeof n&&(a=n),a.et_method=this.m_LastMethod,i.setAttribute("disabled",!0),s=new XMLHttpRequest,s.onreadystatechange=function(){if(4==s.readyState){if(200!=s.status&&304!=s.status)return void l.msg("Unexpected server reply ("+s.status+")");l_Response=JSON.parse(s.responseText),l_Response.Success?(t(l_Response,i),i.removeAttribute("disabled")):(l_Error=document.createElement("p"),l_Error.innerHTML=l_Response.ErrorMessage,l_Error.className="etError",i.parentNode.appendChild(l_Error))}},s.open("POST","PHP/json.tunnel.php",!0),s.setRequestHeader("Content-type","application/x-www-form-urlencoded"),s.send(this._stringify(a))},this._OnDocLoad=function(){t._init()},this._init=function(){this.m_DD_Make=document.getElementById("etWidget_make"),this.m_DD_Model=document.getElementById("etWidget_model"),this.m_DD_Fuel=document.getElementById("etWidget_fuel"),this.m_DD_Variant=document.getElementById("etWidget_variant"),this.m_DD_Make.addEventListener("change",this._EvtDisp,!1),this.m_DD_Model.addEventListener("change",this._EvtDisp,!1),this.m_DD_Fuel.addEventListener("change",this._EvtDisp,!1),this.m_DD_Variant.addEventListener("change",this._EvtDisp,!1),this.m_DD_Make.childNodes[0].innerHTML="- Please select -",this.m_DD_Model.childNodes[0].innerHTML="- Please select above -",this.m_DD_Fuel.childNodes[0].innerHTML="- Please select above -",this.m_DD_Variant.childNodes[0].innerHTML="- Please select above -",this.LoadMakes()},this._stringify=function(e){var t="";for(key in e)t+=key+"="+e[key]+"&";return t.substr(0,t.length-1)},this.LoadMakes=function(){this.exe("make",this._fillDD,this.m_DD_Make)},this.LoadModels=function(){this.exe("model",this._fillDD,this.m_DD_Model,{makeId:this.m_DD_Make.options[this.m_DD_Make.selectedIndex].value})},this.LoadFuels=function(){this.exe("fuel",this._fillDD,this.m_DD_Fuel,{modelId:this.m_DD_Model.options[this.m_DD_Model.selectedIndex].value})},this.LoadVariants=function(){this.exe("variant",this._fillDD,this.m_DD_Variant,{modelId:this.m_DD_Model.options[this.m_DD_Model.selectedIndex].value,fuelId:this.m_DD_Fuel.options[this.m_DD_Fuel.selectedIndex].value})},this.LoadOrderForm=function(){this.msg("Not implemented")},this.OnMakeChange=function(){this.LoadModels(),this.m_DD_Fuel.selectedIndex=0,this.m_DD_Fuel.setAttribute("disabled",!0),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",!0)},this.OnModelChange=function(){this.LoadFuels(),this.m_DD_Variant.selectedIndex=0,this.m_DD_Variant.setAttribute("disabled",!0)},this.OnFuelChange=function(){this.LoadVariants()},this.OnVariantChange=function(){this.LoadOrderForm()},this._EvtDisp=function(e){e.srcElement==t.m_DD_Make&&t.OnMakeChange(e),e.srcElement==t.m_DD_Model&&t.OnModelChange(e),e.srcElement==t.m_DD_Fuel&&t.OnFuelChange(e),e.srcElement==t.m_DD_Variant&&t.OnVariantChange(e)},this.msg=function(e){"undefined"!=typeof console.log?console.log("ET",e):alert("ET:"+e)},this._fillDD=function(e,t){for(var i=null;t.firstChild;)t.removeChild(t.firstChild);for(l_i in e.Items)i=document.createElement("option"),i.value=e.Items[l_i].Value,i.innerHTML=e.Items[l_i].Text,t.appendChild(i)}}var t;t=new e,t.init();
//# sourceMappingURL=https://emotion-tuning.com/SDK/js/emotionApi.min.map